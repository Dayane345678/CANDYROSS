<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üç≠ Candy Ross üç≠</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Estrutura do Jogo -->
    <div id="start-screen"> 
        <h1> üç≠ Candy Ross üç≠</h1> 
        <button id="play-btn">Jogar</button> 

        <!-- CONTROLE DE VOLUME -->
        <div id="volume-control-container">
            <span>Volume</span>
            <input type="range" id="volume-slider" min="-30" max="0" value="-10" step="1">
        </div>

        <button id="show-instructions" class="mt-8 text-lg bg-transparent text-[#ff4da6] border-2 border-[#ff4da6] py-2 px-4 rounded-lg hover:bg-[#ff4da6] hover:text-white transition">Instru√ß√µes</button>
    </div>

    <h1 style="display:none;" id="title-game"> üç≠ Candy Ross üç≠</h1>
    <div id="top-info" style="display:none;">
        <div id="player-profile">
            <!-- Avatar carregado (ou padr√£o) -->
            <img id="avatar" src="https://placehold.co/35x35/ff4da6/ffffff?text=A" alt="Avatar do Jogador">
            <span id="player-name-display">Jogador</span>
            <input type="file" id="avatar-input" accept="image/*" style="display: none;">
        </div>
        
        <!-- ESTAT√çSTICAS DO JOGO (Pontua√ß√£o e Recordes) -->
        <div id="game-stats">
            <div class="flex flex-col items-center">
                <span class="text-xs font-normal">Pontos</span>
                <span id="score">0</span>
            </div>
            <div class="flex flex-col items-center">
                <span class="text-xs font-normal">Tempo</span>
                <span id="time">0:00</span>
            </div>
            <div class="flex flex-col items-center">
                <span class="text-xs font-normal text-[#ff1a8c]">Recorde</span>
                <span id="highScore">0</span>
            </div>
            <div class="flex flex-col items-center">
                <span class="text-xs font-normal text-[#ff1a8c]">Tempo Max</span>
                <span id="bestTime">0:00</span>
            </div>
        </div>

    </div>
    
    <div id="game-container" style="display:none;">
        <!-- Imagem de Recompensa (Barbie) -->
        <img 
            id="barbie-reward" 
            src="https://www.imagenspng.com.br/wp-content/uploads/2023/07/barbie-png-23.png" 
            alt="Recompensa de 1000 Pontos"
            onerror="this.style.display='none'; console.error('Falha ao carregar a imagem da Barbie.')">

        <!-- Container para as notifica√ß√µes de emoji -->
        <div id="candy-notifications"></div> 
        
        <canvas id="tetris" width="240" height="400"></canvas>
        <div id="gameover">
            <span>GAME OVER</span>
            <span id="finalScore">Pontua√ß√£o: 0</span>
            <span id="finalTime">Tempo: 0:00 min</span>
            <button id="restart">Replay</button>
            <!-- NOVO BOT√ÉO: Voltar para a tela inicial -->
            <button id="back-to-start-gameover" class="secondary-btn">Voltar ao In√≠cio</button> 
        </div>
        <div id="sidebar">
            <h2 style="color:#ff1a8c; margin:0;">Pr√≥ximo</h2>
            <canvas id="next" width="100" height="100"></canvas>
        </div>
    </div>

    <div id="controls" style="display:none;">
        <div class="empty"></div>
        <button class="control-btn" id="rotate">‚ü≥</button>
        <div class="empty"></div>
        <button class="control-btn" id="left">‚üµ</button>
        <button class="control-btn" id="down">‚ü±</button>
        <button class="control-btn" id="right">‚ü∂</button>
        <!-- Layout de controles atualizado com o bot√£o Menu -->
        <button class="control-btn" id="pause-btn" style="grid-column: 1 / 3;">‚è∏Ô∏è Pausar</button>
        <button class="control-btn" id="back-to-start-control" style="grid-column: 3 / 4;">Menu</button>
    </div>

    <!-- POP-UP DE INSTRU√á√ïES (ELEMENTO <DIALOG>) -->
    <dialog id="instructions">
        <h2>Instru√ß√µes do Jogo</h2>
        
        <input 
            type="text" 
            id="playerNameInput" 
            placeholder="Digite seu nome (m√°x. 10)" 
            maxlength="10" 
            class="p-2 border border-[#ff4da6] rounded-md focus:outline-none focus:ring-2 focus:ring-[#ff4da6] w-full mt-2 mb-4 text-[#333]">
        
         <h3><strong>BEM-VINDOS AO CANDY ROSS! Neste desafio, cada bloco equivale a um pirulito. O seu objetivo √© quebr√°-los.<strong></h3>
        <p>Este √© um jogo de encaixar blocos. Seu objetivo principal √© completar linhas horizontais (10 pontos) e, principalmente, completar um quadrado s√≥lido de 5x5 blocos(super pontos) em qualquer lugar da arena!</p>

        <h3><br><strong>Controles</strong></br></h3>
        <p><br><strong>Use as teclas de seta ou os bot√µes na tela:</strong></br></p>
        <ul>
            <li><strong>Seta para baixo:</strong> queda suave.</li>
            <li><strong>Seta esquerda:</strong> Mover para a esquerda.
            <li><strong>Seta direita:</strong> Mover para a direita.
            <li><strong>Seta para Cima:</strong> Girar.</li>
            <li><strong>Barra de Espa√ßo:</strong> Pausar/Retomar o jogo.</li>
            <li><strong>Bot√£o Pausar:</strong> Pausar/Retomar o jogo.</li>
        </ul>
        
        <!-- SE√á√ÉO: LINKS DOS DESENVOLVEDORES -->
        <h3>Desenvolvedores</h3>
        <div id="dev-links">
            <a href="https://github.com/Dayane345678" target="_blank">
                Dayane Gabriely (GitHub)
            </a>
            <a href="https://github.com/bnersur" target="_blank">
                Abner Ferreira (GitHub)
            </a>
            <a href="https://github.com/Afromariaa" target="_blank">
                Maria Clara Meira  (GitHub)
            </a>
        </div>
        
        <button id="close">FECHAR</button>
        
        <!-- Tailwind e Tone.js primeiro -->
      <script src="https://cdn.tailwindcss.com"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>

        <!-- script por √∫ltimo, com defer -->
      <script src="script.js" defer></script>

    </dialog>
</body>
</html>
